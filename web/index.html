<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIFS - é«˜æ€§èƒ½å›¾åºŠæœåŠ¡</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div id="auth-info" class="auth-info" style="display: none;">
        <span>å·²ç™»å½•</span>
        <button class="logout-btn" onclick="logout()">é€€å‡º</button>
    </div>
    <div class="container">
        <header class="header">
            <h1>RIFS</h1>
            <p>é«˜æ€§èƒ½ Rust å›¾åºŠæœåŠ¡</p>
        </header>

        <section class="card">
            <div class="card-header">å›¾ç‰‡ä¸Šä¼ </div>
            <div class="card-content">
                <div class="upload-area">
                    <form id="upload-form">
                        <input type="file" id="file-input" class="file-input" accept="image/*" multiple>
                        <label for="file-input" class="file-label">
                            <div class="upload-icon">ğŸ“¤</div>
                            <div>ç‚¹å‡»é€‰æ‹©å›¾ç‰‡æˆ–æ‹–æ‹½åˆ°æ­¤å¤„</div>
                            <small>æ”¯æŒ JPGã€PNGã€GIFã€WebPã€AVIFã€ICO æ ¼å¼</small>
                        </label>
                        <div class="upload-options">
                            <label>
                                <input type="checkbox" id="auto-copy"> è‡ªåŠ¨å¤åˆ¶é“¾æ¥
                            </label>
                        </div>
                        <button type="submit" class="btn" id="upload-btn">ä¸Šä¼ å›¾ç‰‡</button>
                    </form>
                </div>
                <div id="upload-result" class="upload-result">
                    <style>
                        .upload-item{display:grid;grid-template-columns:1fr;gap:12px;margin-bottom:16px;padding:16px;background:rgba(15,23,42,0.5);border-radius:8px;border:1px solid rgba(6,182,212,0.2)}
                        .upload-item-header{display:flex;justify-content:space-between;align-items:center;gap:8px}
                        .upload-item-name{color:#cbd5e1;font-size:0.9rem;font-weight:500;word-break:break-all}
                        .upload-item-id{color:#94a3b8;font-size:0.75rem;font-family:'Monaco','Courier New',monospace}
                        .format-tabs{display:flex;gap:8px;margin:12px 0;border-bottom:1px solid rgba(6,182,212,0.1);padding-bottom:8px}
                        .format-tab{padding:8px 12px;background:none;border:none;color:#94a3b8;cursor:pointer;font-size:0.85rem;border-bottom:2px solid transparent;transition:all 0.2s}
                        .format-tab:hover{color:#06b6d4}
                        .format-tab.active{color:#06b6d4;border-bottom-color:#06b6d4}
                        .format-content{background:rgba(6,182,212,0.05);border-radius:6px;padding:12px;font-family:'Monaco','Courier New',monospace;font-size:0.85rem;color:#cbd5e1;word-break:break-all;margin-bottom:12px;max-height:120px;overflow-y:auto}
                        .copy-btn{padding:6px 12px;background:rgba(6,182,212,0.2);border:1px solid rgba(6,182,212,0.3);color:#06b6d4;border-radius:4px;cursor:pointer;font-size:0.8rem;transition:all 0.2s}
                        .copy-btn:hover{background:rgba(6,182,212,0.3)}
                        .copy-btn.copied{background:rgba(16,185,129,0.2);border-color:rgba(16,185,129,0.3);color:#10b981}
                        .action-buttons{display:flex;gap:8px;flex-wrap:wrap}
                    </style>
                </div>
            </div>
        </section>

        <section class="card">
            <div class="card-header">API æ¥å£</div>
            <div class="card-content">
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="path">/upload</span>
                    </div>
                    <div class="endpoint-desc">ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶</div>
                </div>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/images/{id}</span>
                    </div>
                    <div class="endpoint-desc">è·å–åŸå›¾æˆ–è½¬æ¢å›¾ç‰‡</div>
                </div>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="path">/images/{id}@w800_h600_jpeg_q90</span>
                    </div>
                    <div class="endpoint-desc">å®æ—¶è½¬æ¢ï¼šå®½800pxã€é«˜600pxã€JPEGæ ¼å¼ã€è´¨é‡90%</div>
                </div>
            </div>
        </section>

        <section class="card">
            <div class="card-header">è½¬æ¢å‚æ•°</div>
            <div class="card-content">
                <div class="params-grid">
                    <div class="param">
                        <code>w{æ•°å­—}</code>
                        <span>æœ€å¤§å®½åº¦</span>
                    </div>
                    <div class="param">
                        <code>h{æ•°å­—}</code>
                        <span>æœ€å¤§é«˜åº¦</span>
                    </div>
                    <div class="param">
                        <code>jpeg/png/webp/avif</code>
                        <span>ç›®æ ‡æ ¼å¼</span>
                    </div>
                    <div class="param">
                        <code>q{1-100}</code>
                        <span>è´¨é‡å‚æ•°</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="card">
            <div class="card-header">å­˜å‚¨ä¿¡æ¯</div>
            <div class="card-content">
                <div class="storage-info">
                    <h4>å­˜å‚¨ç­–ç•¥</h4>
                    <p>â€¢ SHA256 å“ˆå¸Œå»é‡å­˜å‚¨</p>
                    <p>â€¢ è‡ªåŠ¨ç¼“å­˜è½¬æ¢ç»“æœ</p>
                    <p>â€¢ æ”¯æŒ LRU æ¸…ç†ç­–ç•¥</p>
                    <p>â€¢ å¤šæ•°æ®åº“æ”¯æŒï¼šSQLite/PostgreSQL/MySQL</p>
                </div>
            </div>
        </section>

        <footer class="footer">
            <p>è®¿é—® <a href="/gallery">å›¾ç‰‡åº“</a> | <a href="/cache/management">ç¼“å­˜ç®¡ç†</a> | <a href="/health">ç³»ç»ŸçŠ¶æ€</a></p>
        </footer>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
